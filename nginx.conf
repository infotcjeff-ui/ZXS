# Nginx configuration for ServerAvatar
# This file should be placed in the dist directory or configured in ServerAvatar settings

# Set correct MIME types for JavaScript modules
location ~* \.(js|mjs)$ {
    add_header Content-Type "application/javascript; charset=utf-8";
    add_header Access-Control-Allow-Origin "*";
}

# Set correct MIME types for CSS
location ~* \.css$ {
    add_header Content-Type "text/css; charset=utf-8";
}

# Set correct MIME types for SVG
location ~* \.svg$ {
    add_header Content-Type "image/svg+xml";
}

# Cache control for assets
location ~* \.(js|css|svg|png|jpg|jpeg|gif|ico|woff|woff2|ttf|eot)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}

# Fallback to index.html for client-side routing
location / {
    try_files $uri $uri/ /index.html;
}

